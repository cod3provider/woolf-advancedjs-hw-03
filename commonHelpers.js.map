{"version":3,"file":"commonHelpers.js","sources":["../src/api/keys.js","../src/api/cat-api.js","../src/index.js"],"sourcesContent":["const API_KEY = 'live_TPrcb81nEhbpChqH04IgSnjHpAA3iFbZ94HJ0KBZ5c8W8cRyAEVVHoOGtOTgjuw2';\nconst BASE_URL = 'https://api.thecatapi.com/v1/breeds';\nconst IMAGE_URL = 'https://api.thecatapi.com/v1/images/search?breed_ids';\n\nexport {\n  API_KEY,\n  BASE_URL,\n  IMAGE_URL,\n}","import axios from 'axios';\nimport { API_KEY, BASE_URL, IMAGE_URL } from './keys.js';\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios(BASE_URL)\n  .then(response => {\n    console.log(response);\n\n    return response.data;\n  })\n  .catch(err => console.log(err.message));\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios(`${IMAGE_URL}=${breedId}`)\n  .then(res => {\n    console.log(res.data[0]);\n\n    return res.data[0];\n  })\n  .catch(err => console.log(err));\n}\n\nexport { fetchBreeds, fetchCatByBreed };","import { fetchBreeds, fetchCatByBreed } from './api/cat-api.js';\n\nimport SlimSelect from 'slim-select';\nimport \"slim-select/styles\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst select = document.querySelector('.breed-select');\nconst divInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector(('.loader'));\n// const errorText = document.querySelector('.error');\n\nlet selectedId;\nlet isLoading = true;\n// errorText.classList.add('hidden');\nconsole.log(isLoading);\n\nconst errorToast = () => {\n  iziToast.error({\n    title: 'Oops!',\n    message: 'Something went wrong! Try reloading the page!',\n    position: 'topRight',\n  });\n}\n\nfunction FetchDecorator() {\n  fetchCatByBreed(selectedId)\n  .then(data => {\n    // handleLoadingRes();\n\n    // if (isLoading) {\n    //   // loader.classList.remove('hidden');\n    // }\n    // isLoading = false;\n\n    handleSuccessRes();\n    divInfo.innerHTML = createMarkup(data);\n  })\n  .catch(err => {\n    console.log(err);\n    handleErrorRes();\n  });\n}\n\nfetchBreeds()\n.then(data => {\n  // isLoading = true;\n  //\n  // if (isLoading) {\n  //   loader.classList.remove('hidden');\n  // }\n  //\n  // isLoading = false;\n\n  handleLoadingRes();\n  // console.log(isLoading);\n\n  handleSuccessRes();\n\n\n  select.insertAdjacentHTML('afterbegin', createOptions(data));\n\n  new SlimSelect({\n    select,\n  });\n\n  selectedId = select.value;\n  console.log(selectedId);\n\n  if (!divInfo.length) {\n    FetchDecorator();\n  }\n})\n.catch(err => {\n  console.log(err);\n  handleErrorRes();\n});\n\nfunction createMarkup(data) {\n  const { description, name, temperament } = data.breeds[0];\n\n  return `\n    <div>\n      <h1 class='title'>${name}</h1>\n      <div class='content_wrapper'>\n        <div class='img_wrapper'>\n        <img\n          class='img'\n          src='${data.url}'\n          alt='${description}'\n          width='500'\n        />\n      </div>\n      <div class='text_wrapper'>\n        <p class='description'>${description}</p>\n        <p class='temperament'>${temperament}</p>\n      </div>\n      </div>\n    </div>\n  `;\n}\n\nfunction createOptions(arr) {\n  return arr.map(({ id, name }) => `\n    <option value='${id}'>${name}</option>\n  `);\n}\n\nfunction handleErrorRes() {\n  loader.classList.add('hidden');\n  // errorText.classList.remove('hidden');\n  errorToast();\n}\n\n\nfunction handleLoadingRes() {\n  // errorText.classList.add('hidden');\n  loader.classList.remove('hidden');\n  divInfo.classList.add('hidden');\n}\n\nfunction handleSuccessRes() {\n  // errorText.classList.add('hidden');\n  loader.classList.add('hidden');\n  divInfo.classList.remove('hidden');\n}\n\nselect.addEventListener('change', function() {\n  selectedId = this.value;\n  handleLoadingRes();\n  FetchDecorator();\n  console.log(selectedId);\n});"],"names":["API_KEY","BASE_URL","IMAGE_URL","axios","fetchBreeds","response","err","fetchCatByBreed","breedId","res","select","divInfo","loader","selectedId","isLoading","errorToast","iziToast","FetchDecorator","data","handleSuccessRes","createMarkup","handleErrorRes","handleLoadingRes","createOptions","SlimSelect","description","name","temperament","arr","id"],"mappings":"owBAAA,MAAMA,EAAU,wEACVC,EAAW,sCACXC,EAAY,uDCClBC,EAAM,SAAS,QAAQ,OAAO,aAAeH,EAE7C,SAASI,GAAc,CACrB,OAAOD,EAAMF,CAAQ,EACpB,KAAKI,IACJ,QAAQ,IAAIA,CAAQ,EAEbA,EAAS,KACjB,EACA,MAAMC,GAAO,QAAQ,IAAIA,EAAI,OAAO,CAAC,CACxC,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOL,EAAM,GAAGD,KAAaM,GAAS,EACrC,KAAKC,IACJ,QAAQ,IAAIA,EAAI,KAAK,EAAE,EAEhBA,EAAI,KAAK,GACjB,EACA,MAAMH,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAChC,CChBA,MAAMI,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAe,WAGvC,IAAIC,EACAC,EAAY,GAEhB,QAAQ,IAAIA,CAAS,EAErB,MAAMC,EAAa,IAAM,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UACd,CAAG,CACH,EAEA,SAASC,GAAiB,CACxBV,EAAgBM,CAAU,EACzB,KAAKK,GAAQ,CAQZC,IACAR,EAAQ,UAAYS,EAAaF,CAAI,CACzC,CAAG,EACA,MAAMZ,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfe,GACJ,CAAG,CACH,CAEAjB,EAAa,EACZ,KAAKc,GAAQ,CASZI,IAGAH,IAGAT,EAAO,mBAAmB,aAAca,EAAcL,CAAI,CAAC,EAE3D,IAAIM,EAAW,CACb,OAAAd,CACJ,CAAG,EAEDG,EAAaH,EAAO,MACpB,QAAQ,IAAIG,CAAU,EAEjBF,EAAQ,QACXM,GAEJ,CAAC,EACA,MAAMX,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfe,GACF,CAAC,EAED,SAASD,EAAaF,EAAM,CAC1B,KAAM,CAAE,YAAAO,EAAa,KAAAC,EAAM,YAAAC,CAAa,EAAGT,EAAK,OAAO,GAEvD,MAAO;AAAA;AAAA,0BAEiBQ;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKTR,EAAK;AAAA,iBACLO;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKgBA;AAAA,iCACAE;AAAA;AAAA;AAAA;AAAA,GAKjC,CAEA,SAASJ,EAAcK,EAAK,CAC1B,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAH,CAAM,IAAK;AAAA,qBACdG,MAAOH;AAAA,GACzB,CACH,CAEA,SAASL,GAAiB,CACxBT,EAAO,UAAU,IAAI,QAAQ,EAE7BG,GACF,CAGA,SAASO,GAAmB,CAE1BV,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAU,IAAI,QAAQ,CAChC,CAEA,SAASQ,GAAmB,CAE1BP,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEAD,EAAO,iBAAiB,SAAU,UAAW,CAC3CG,EAAa,KAAK,MAClBS,IACAL,IACA,QAAQ,IAAIJ,CAAU,CACxB,CAAC"}