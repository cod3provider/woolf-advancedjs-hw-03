{"version":3,"file":"commonHelpers.js","sources":["../src/api/keys.js","../src/api/cat-api.js","../src/index.js"],"sourcesContent":["const API_KEY = 'live_TPrcb81nEhbpChqH04IgSnjHpAA3iFbZ94HJ0KBZ5c8W8cRyAEVVHoOGtOTgjuw2';\nconst BASE_URL = 'https://api.thecatapi.com/v1/breeds';\nconst IMAGE_URL = 'https://api.thecatapi.com/v1/images/search?breed_ids';\n\nexport {\n  API_KEY,\n  BASE_URL,\n  IMAGE_URL,\n}","import axios from 'axios';\nimport { API_KEY, BASE_URL, IMAGE_URL } from './keys.js';\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios(BASE_URL)\n  .then(res => {\n    return res.data;\n  })\n  .catch(err => console.log(err));\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios(`${IMAGE_URL}=${breedId}`)\n  .then(res => {\n    return res.data[0];\n  })\n  .catch(err => console.log(err));\n}\n\nexport { fetchBreeds, fetchCatByBreed };","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchBreeds, fetchCatByBreed } from './api/cat-api.js';\n\nconst select = document.querySelector('.breed-select');\nconst divInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector(('.loader'));\nlet selectedId;\n\nconst errorToast = () => {\n  iziToast.error({\n    title: 'Oops!',\n    message: 'Something went wrong! Try reloading the page!',\n    position: 'topRight',\n  });\n};\n\nfunction FetchDecorator() {\n  fetchCatByBreed(selectedId)\n  .then(data => {\n    handleSuccessRes();\n    divInfo.innerHTML = createMarkup(data);\n  })\n  .catch(() => {\n    divInfo.innerHTML = '';\n    handleErrorRes();\n  });\n}\n\nfetchBreeds()\n.then(data => {\n  handleLoadingRes();\n  handleSuccessRes();\n\n  select.insertAdjacentHTML('afterbegin', createOptions(data));\n  new SlimSelect({\n    select,\n  });\n  selectedId = select.value;\n})\n.catch(() => {\n  divInfo.innerHTML = '';\n  handleErrorRes();\n});\n\nfunction createMarkup(data) {\n  const { description, name, temperament } = data.breeds[0];\n\n  return `\n    <div>\n      <h1 class='title'>${name}</h1>\n      <div class='content_wrapper'>\n        <div class='img_wrapper'>\n        <img\n          class='img'\n          src='${data.url}'\n          alt='${description}'\n          width='500'\n        />\n        </div>\n        <div class='text_wrapper'>\n          <p class='description'>${description}</p>\n          <p class='temperament'>${temperament}</p>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\nfunction createOptions(arr) {\n  return arr.map(({ id, name }) => `\n    <option value='${id}'>${name}</option>\n  `);\n}\n\nfunction handleErrorRes() {\n  loader.classList.add('hidden');\n  errorToast();\n}\n\nfunction handleLoadingRes() {\n  loader.classList.remove('hidden');\n  divInfo.classList.add('hidden');\n}\n\nfunction handleSuccessRes() {\n  select.classList.remove('hidden');\n  loader.classList.add('hidden');\n  divInfo.classList.remove('hidden');\n}\n\nfunction handleChange() {\n  selectedId = this.value;\n  handleLoadingRes();\n  FetchDecorator();\n}\n\nselect.addEventListener('change', handleChange);"],"names":["API_KEY","BASE_URL","IMAGE_URL","axios","fetchBreeds","res","err","fetchCatByBreed","breedId","select","divInfo","loader","selectedId","errorToast","iziToast","FetchDecorator","data","handleSuccessRes","createMarkup","handleErrorRes","handleLoadingRes","createOptions","SlimSelect","description","name","temperament","arr","id","handleChange"],"mappings":"owBAAA,MAAMA,EAAU,wEACVC,EAAW,sCACXC,EAAY,uDCClBC,EAAM,SAAS,QAAQ,OAAO,aAAeH,EAE7C,SAASI,GAAc,CACrB,OAAOD,EAAMF,CAAQ,EACpB,KAAKI,GACGA,EAAI,IACZ,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAChC,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOL,EAAM,GAAGD,KAAaM,GAAS,EACrC,KAAKH,GACGA,EAAI,KAAK,EACjB,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAChC,CCZA,MAAMG,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAe,WACvC,IAAIC,EAEJ,MAAMC,EAAa,IAAM,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UACd,CAAG,CACH,EAEA,SAASC,GAAiB,CACxBR,EAAgBK,CAAU,EACzB,KAAKI,GAAQ,CACZC,IACAP,EAAQ,UAAYQ,EAAaF,CAAI,CACzC,CAAG,EACA,MAAM,IAAM,CACXN,EAAQ,UAAY,GACpBS,GACJ,CAAG,CACH,CAEAf,EAAa,EACZ,KAAKY,GAAQ,CACZI,IACAH,IAEAR,EAAO,mBAAmB,aAAcY,EAAcL,CAAI,CAAC,EAC3D,IAAIM,EAAW,CACb,OAAAb,CACJ,CAAG,EACDG,EAAaH,EAAO,KACtB,CAAC,EACA,MAAM,IAAM,CACXC,EAAQ,UAAY,GACpBS,GACF,CAAC,EAED,SAASD,EAAaF,EAAM,CAC1B,KAAM,CAAE,YAAAO,EAAa,KAAAC,EAAM,YAAAC,CAAa,EAAGT,EAAK,OAAO,GAEvD,MAAO;AAAA;AAAA,0BAEiBQ;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKTR,EAAK;AAAA,iBACLO;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKkBA;AAAA,mCACAE;AAAA;AAAA;AAAA;AAAA,GAKnC,CAEA,SAASJ,EAAcK,EAAK,CAC1B,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAH,CAAM,IAAK;AAAA,qBACdG,MAAOH;AAAA,GACzB,CACH,CAEA,SAASL,GAAiB,CACxBR,EAAO,UAAU,IAAI,QAAQ,EAC7BE,GACF,CAEA,SAASO,GAAmB,CAC1BT,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAU,IAAI,QAAQ,CAChC,CAEA,SAASO,GAAmB,CAC1BR,EAAO,UAAU,OAAO,QAAQ,EAChCE,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEA,SAASkB,GAAe,CACtBhB,EAAa,KAAK,MAClBQ,IACAL,GACF,CAEAN,EAAO,iBAAiB,SAAUmB,CAAY"}